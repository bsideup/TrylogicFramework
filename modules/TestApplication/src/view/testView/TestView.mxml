<?xml version="1.0"?>
<tl:View xmlns:fx="http://ns.adobe.com/mxml/2009" xmlns:tl="http://www.trylogic.ru/" xmlns:local="*"
		 implements="view.testView.ITestView">
	<fx:Script>
		<![CDATA[
		import tl.utils.getChildByNameRecursiveOnTarget;

		private var _yoButton : SimpleButton;

		public function get myLabel() : TextField
		{
			return testViewFromSWF.myText;
		}

		protected function get yoButton() : SimpleButton
		{
			if ( _yoButton == null )
			{
				_yoButton = getChildByNameRecursiveOnTarget( "yoButton", testViewFromSWF ) as SimpleButton;
			}
			return _yoButton;
		}

		private function onYoButtonMouseDown( e : MouseEvent ) : void
		{
			ITestViewDelegate( controller ).myButtonClicked();
		}

		public function get myAnotherLabel() : TextField
		{
			return testViewFromSWF.myAnotherText;
		}
		]]>
	</fx:Script>

	<tl:addedToStage>
		<![CDATA[
			IEventDispatcher( yoButton ).addEventListener( MouseEvent.CLICK, onYoButtonMouseDown );
		]]>
	</tl:addedToStage>

	<tl:removedFromStage>
	<![CDATA[
			_yoButton = null;
			IEventDispatcher( yoButton ).removeEventListener( MouseEvent.CLICK, onYoButtonMouseDown );
		]]>
	</tl:removedFromStage>

	<local:TestViewAsset id="testViewFromSWF" mouseChildren="{ITestViewDelegate( controller ).canClick}" />
</tl:View>
